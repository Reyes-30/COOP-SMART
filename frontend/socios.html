<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Socios y Clientes - COOP-SMART</title>
    <link rel="stylesheet" href="pagos.css">
    <link rel="stylesheet" href="socios.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon">üí∞</div>
                <div>
                    <h1 class="logo-text">COOP-SMART</h1>
                    <p class="logo-subtitle">Sistema de Gesti√≥n Cooperativa</p>
                </div>
            </div>
            
            <div class="header-search">
                <input type="text" id="globalSearch" placeholder="Buscar por pr√©stamo, socio, referencia..." class="search-input">
                <span class="search-icon">ÔøΩ</span>
            </div>
            
            <div class="user-menu">
                <div class="user-info">
                    <span class="user-name" id="userName">Admin</span>
                    <span class="user-role" id="userRole">Administrador</span>
                </div>
                <button class="logout-btn" id="logoutBtn">
                    <span>ÔøΩ</span> Salir
                </button>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav-menu">
        <a href="dashboard.html" class="nav-link">üìä Dashboard</a>
        <a href="socios.html" class="nav-link active">üë• Socios</a>
        <a href="cuentas.html" class="nav-link">ÔøΩ Cuentas</a>
        <a href="prestamos.html" class="nav-link">üíµ Pr√©stamos</a>
        <a href="transacciones.html" class="nav-link">üìù Transacciones</a>
        <a href="pagos.html" class="nav-link">üí∏ Pagos</a>
        <a href="reportes.html" class="nav-link">üìà Reportes</a>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="page-header">
            <div>
                <h2 class="page-title">üë• Socios y Clientes</h2>
                <p class="page-subtitle">Gesti√≥n de socios y clientes del sistema</p>
            </div>
            <button class="btn-primary" id="btnNuevoSocio">
                <span>‚ûï</span> Nuevo Socio
            </button>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card stat-blue">
                <div class="stat-icon">üë•</div>
                <div class="stat-info">
                    <div class="stat-label">Total Socios</div>
                    <div class="stat-value" id="totalSocios">0</div>
                    <div class="stat-count" id="countSociosActivos">0 activos</div>
                </div>
            </div>
            <div class="stat-card stat-gray">
                <div class="stat-icon">üë§</div>
                <div class="stat-info">
                    <div class="stat-label">Total Clientes</div>
                    <div class="stat-value" id="totalClientes">0</div>
                    <div class="stat-count" id="countClientesActivos">0 activos</div>
                </div>
            </div>
            <div class="stat-card stat-green">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-info">
                    <div class="stat-label">Activos</div>
                    <div class="stat-value" id="totalActivos">0</div>
                    <div class="stat-count">En total</div>
                </div>
            </div>
            <div class="stat-card stat-orange">
                <div class="stat-icon">üìÖ</div>
                <div class="stat-info">
                    <div class="stat-label">Nuevos este mes</div>
                    <div class="stat-value" id="nuevosMes">0</div>
                    <div class="stat-count">Registros nuevos</div>
                </div>
            </div>
        </div>

        <!-- Filters and Actions -->
        <div class="card">
            <div class="card-header">
                <h3>üìã Listado de Socios y Clientes</h3>
                <div class="toolbar">
                    <div class="filter-group">
                        <button class="filter-btn active" data-filter="todos">
                            Todos <span class="filter-count" id="countTodos">0</span>
                        </button>
                        <button class="filter-btn" data-filter="socio">
                            üë• Socios <span class="filter-count" id="countSocios">0</span>
                        </button>
                        <button class="filter-btn" data-filter="cliente">
                            üë§ Clientes <span class="filter-count" id="countClientes">0</span>
                        </button>
                    </div>
                    <select class="filter-select" id="estadoFilter">
                        <option value="todos">Todos los estados</option>
                        <option value="activo">Activos</option>
                        <option value="inactivo">Inactivos</option>
                        <option value="suspendido">Suspendidos</option>
                    </select>
                    <button class="btn-secondary" id="btnExportar">
                        üì• Exportar
                    </button>
                </div>
            </div>

            <div class="table-container">
                <table class="data-table" id="sociosTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Identidad</th>
                            <th>Nombre Completo</th>
                            <th>Tipo</th>
                            <th>Tel√©fono</th>
                            <th>Email</th>
                            <th>Fecha Ingreso</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="sociosTableBody">
                        <tr class="loading-row">
                            <td colspan="9">
                                <div class="loading-spinner"></div>
                                <p>Cargando datos...</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <!-- Modal: Nuevo/Editar Socio -->
    <div class="modal" id="modalSocio">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Nuevo Socio/Cliente</h2>
                <button class="modal-close" id="btnCloseModal">‚úï</button>
            </div>
            <form id="formSocio">
                <div class="modal-body">
                    <!-- Tipo de Registro -->
                    <div class="form-section">
                        <h3 class="section-title">Tipo de Registro</h3>
                        <div class="radio-group">
                            <label class="radio-card">
                                <input type="radio" name="tipo" value="socio" checked>
                                <div class="radio-content">
                                    <span class="radio-icon">üë•</span>
                                    <span class="radio-label">Socio</span>
                                    <span class="radio-description">Miembro de la cooperativa</span>
                                </div>
                            </label>
                            <label class="radio-card">
                                <input type="radio" name="tipo" value="cliente">
                                <div class="radio-content">
                                    <span class="radio-icon">üë§</span>
                                    <span class="radio-label">Cliente</span>
                                    <span class="radio-description">Usuario externo</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Datos Personales -->
                    <div class="form-section">
                        <h3 class="section-title">Datos Personales</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="identidad">N√∫mero de Identidad *</label>
                                <input type="text" id="identidad" name="identidad" required 
                                       placeholder="0000-0000-00000" maxlength="15">
                            </div>
                            <div class="form-group">
                                <label for="nombre">Nombre *</label>
                                <input type="text" id="nombre" name="nombre" required>
                            </div>
                            <div class="form-group">
                                <label for="apellido">Apellido *</label>
                                <input type="text" id="apellido" name="apellido" required>
                            </div>
                            <div class="form-group">
                                <label for="fecha_nacimiento">Fecha de Nacimiento *</label>
                                <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" required>
                            </div>
                            <div class="form-group">
                                <label for="genero">G√©nero *</label>
                                <select id="genero" name="genero" required>
                                    <option value="">Seleccionar...</option>
                                    <option value="M">Masculino</option>
                                    <option value="F">Femenino</option>
                                    <option value="Otro">Otro</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Informaci√≥n de Contacto -->
                    <div class="form-section">
                        <h3 class="section-title">Informaci√≥n de Contacto</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="telefono">Tel√©fono *</label>
                                <input type="tel" id="telefono" name="telefono" required 
                                       placeholder="0000-0000">
                            </div>
                            <div class="form-group">
                                <label for="celular">Celular</label>
                                <input type="tel" id="celular" name="celular" 
                                       placeholder="0000-0000">
                            </div>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" name="email" 
                                       placeholder="correo@ejemplo.com">
                            </div>
                        </div>
                    </div>

                    <!-- Direcci√≥n -->
                    <div class="form-section">
                        <h3 class="section-title">Direcci√≥n</h3>
                        <div class="form-grid">
                            <div class="form-group form-group-full">
                                <label for="direccion">Direcci√≥n Completa *</label>
                                <textarea id="direccion" name="direccion" required rows="2"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="ciudad">Ciudad *</label>
                                <input type="text" id="ciudad" name="ciudad" required>
                            </div>
                            <div class="form-group">
                                <label for="departamento">Departamento *</label>
                                <select id="departamento" name="departamento" required>
                                    <option value="">Seleccionar...</option>
                                    <option value="Atl√°ntida">Atl√°ntida</option>
                                    <option value="Col√≥n">Col√≥n</option>
                                    <option value="Comayagua">Comayagua</option>
                                    <option value="Cop√°n">Cop√°n</option>
                                    <option value="Cort√©s">Cort√©s</option>
                                    <option value="Choluteca">Choluteca</option>
                                    <option value="El Para√≠so">El Para√≠so</option>
                                    <option value="Francisco Moraz√°n">Francisco Moraz√°n</option>
                                    <option value="Gracias a Dios">Gracias a Dios</option>
                                    <option value="Intibuc√°">Intibuc√°</option>
                                    <option value="Islas de la Bah√≠a">Islas de la Bah√≠a</option>
                                    <option value="La Paz">La Paz</option>
                                    <option value="Lempira">Lempira</option>
                                    <option value="Ocotepeque">Ocotepeque</option>
                                    <option value="Olancho">Olancho</option>
                                    <option value="Santa B√°rbara">Santa B√°rbara</option>
                                    <option value="Valle">Valle</option>
                                    <option value="Yoro">Yoro</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Informaci√≥n Laboral -->
                    <div class="form-section">
                        <h3 class="section-title">Informaci√≥n Laboral</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="ocupacion">Ocupaci√≥n</label>
                                <input type="text" id="ocupacion" name="ocupacion">
                            </div>
                            <div class="form-group">
                                <label for="lugar_trabajo">Lugar de Trabajo</label>
                                <input type="text" id="lugar_trabajo" name="lugar_trabajo">
                            </div>
                            <div class="form-group">
                                <label for="ingresos_mensuales">Ingresos Mensuales (L.)</label>
                                <input type="number" id="ingresos_mensuales" name="ingresos_mensuales" 
                                       step="0.01" min="0" placeholder="0.00">
                            </div>
                        </div>
                    </div>

                    <!-- Campos adicionales para Socios -->
                    <div class="form-section" id="seccionSocio">
                        <h3 class="section-title">Informaci√≥n de Socio</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="fecha_ingreso">Fecha de Ingreso *</label>
                                <input type="date" id="fecha_ingreso" name="fecha_ingreso" required>
                            </div>
                            <div class="form-group">
                                <label for="aportacion_inicial">Aportaci√≥n Inicial (L.) *</label>
                                <input type="number" id="aportacion_inicial" step="0.01" min="0" 
                                       placeholder="500.00">
                            </div>
                        </div>
                        <div class="info-box info-blue">
                            <span class="info-icon">‚ÑπÔ∏è</span>
                            <div>
                                <strong>Beneficios de Socio:</strong>
                                <p>Tasas preferenciales, dividendos anuales, derecho a voto en asambleas</p>
                            </div>
                        </div>
                    </div>

                    <!-- Notas -->
                    <div class="form-section">
                        <h3 class="section-title">Notas Adicionales</h3>
                        <div class="form-group">
                            <textarea id="notas" name="notas" rows="3" 
                                      placeholder="Informaci√≥n adicional relevante..."></textarea>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn-secondary" id="btnCancelar">Cancelar</button>
                    <button type="submit" class="btn-primary">
                        <span class="btn-icon">üíæ</span>
                        Guardar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Ver Detalles -->
    <div class="modal" id="modalDetalles">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 class="modal-title">Detalles del Socio/Cliente</h2>
                <button class="modal-close" id="btnCloseDetalles">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="details-header">
                    <div class="details-avatar">üë§</div>
                    <div class="details-info">
                        <h3 id="detallesNombre">---</h3>
                        <p id="detallesIdentidad">---</p>
                        <div class="details-badges">
                            <span class="badge" id="detallesTipo">---</span>
                            <span class="badge" id="detallesEstado">---</span>
                        </div>
                    </div>
                    <div class="details-actions">
                        <button class="btn-icon-action" id="btnEditarDetalles" title="Editar">‚úèÔ∏è</button>
                        <button class="btn-icon-action" id="btnImprimirDetalles" title="Imprimir">üñ®Ô∏è</button>
                    </div>
                </div>

                <div class="tabs">
                    <button class="tab-btn active" data-tab="personal">Datos Personales</button>
                    <button class="tab-btn" data-tab="cuentas">Cuentas</button>
                    <button class="tab-btn" data-tab="prestamos">Pr√©stamos</button>
                    <button class="tab-btn" data-tab="historial">Historial</button>
                </div>

                <div class="tab-content active" id="tabPersonal">
                    <div class="details-grid" id="detallesPersonales">
                        <!-- Se llenar√° din√°micamente -->
                    </div>
                </div>

                <div class="tab-content" id="tabCuentas">
                    <p class="tab-placeholder">Cargando cuentas...</p>
                </div>

                <div class="tab-content" id="tabPrestamos">
                    <p class="tab-placeholder">Cargando pr√©stamos...</p>
                </div>

                <div class="tab-content" id="tabHistorial">
                    <p class="tab-placeholder">Cargando historial...</p>
                </div>
            </div>
        </div>
    </div>

    <script src="dashboard.js"></script>
    <script src="socios.js"></script>
</body>
</html>
